# SpectroFilter: Spectrogram-Based Audio Source Separation

본 프로젝트는 밴드 음악의 스펙트로그램을 이미지로 간주하고, 이미지 분석 기법을 통해 여러 악기를 개별 트랙으로 분리하는 전처리 라이브러리를 개발하는 것을 목표로 한다.
스펙토로그램을 사용하는 이유는 스펙트로그램은 일반 파형과 달리 주파수와 진푝의 변화를 계산하여 그래프로 표현해낸 것이다. 주파수와 진푝의 변화를 알 수 있기 때문에 소리의 음색이나 구성 성분을 분석하는데 유용하다.
필터에 대한 종류 설명은 다음과 같다.

## 보컬 (담당자: 이현우)
본 필터는 밴드 음악의 전체 스펙트로그램에서 보컬 성분을 우선적으로 식별하고 추출하기 위한 전처리 모듈을 제공하는 것을 목표로 한다.
보컬은 다른 악기와 확연히 구분되는 고유한 시간–주파수 패턴을 가지며, 본 프로젝트에서는 이러한 패턴을 기반으로 보컬 전용 소프트 마스크를 생성하는 이미지 기반 필터를 구현한다.

보컬은 스펙트로그램 상에서 다음과 같은 특징적 Texture를 갖는다고 가정한다

집중된 포먼트(Formant) 구조:
사람 목소리는 특정 주파수 대역(약 300Hz ~ 4kHz)에 에너지가 집중되는 경향이 있다.
이는 악기 대비 상대적으로 일정한 주파수대 매핑을 형성해, 스펙트로그램에서 볼록한 띠 형태의 패턴을 만들어낸다.

명확한 시간적 진폭 변화(Amplitude Dynamics):
보컬은 단순 주파수 신호가 아니라, 발음·호흡·비브라토(vibrato) 등으로 인해 불규칙하지만 의미 있는 진폭 변화가 발생한다.
이는 타악기처럼 순간적인 스파이크가 아니라, 지속적이면서도 곡선 형태로 변하는 에너지 패턴을 보인다.

부드러운 배음(Harmonic Overtones):
목소리 특성상 상위 배음들이 부드럽게 이어지며, 기타나 신스처럼 날카로운 고주파 노이즈가 거의 없다.
이 때문에 보컬 배음은 스펙트로그램에서 “파도처럼 이어지는” 부드러운 수평 패턴을 형성한다.

## 일렉 기타 (담당자: 김상봉)
본 모듈은 혼합된 밴드 믹스 오디오에서 일렉기타 사운드를 분리하기 위해 설계된 스펙트로그램 기반 전처리 필터 코드이다.

기획 의도
일렉기타는 스펙트로그램 상에서 다음과 같은 고유한 텍스처 패턴을 가짐:

넓게 퍼진 배음 구조
디스토션/오버드라이브 시 배음이 넓게 뭉쳐 보이고 깨끗한 악기들과는 달리 두꺼운 연속선 형태를 띰.
피킹 어택과 고주파
프레이즈 시작 순간, 짧고 강한 고주파 burst가 발생함.
프레이즈 기반 시간적 연속성
기타 라인은 일정한 주파수 흐름과 지속적인 배음 텍스처를 가지며 안정적인 줄무늬 패턴을 형성함.
이러한 텍스처는 이미지 영역에서의 패턴으로 변환 가능함. 따라서 본 필터는 스펙트로그램을 이미지처럼 다루어 각 이미지 조각이 기타 텍스처에 얼마나 근접한지를 정량적으로 평가하여 기타 전용 소프트 마스크를 생성하는 것을 목표로 한다.

## 베이스 (담당자: 유지성)


## 키보드 & 피아노 (담당자: 정진욱)
### 기획 의도
본 필터는  밴드 음악의 전체 스펙트로그램에서 피아노 및 키보드 사운드에 해당하는 이미지 영역을 식별하는 것을 목표로 한다.
피아노/키보드 사운드는 스펙토그램 상에서 다른 악기와 구별되는 다음과 같은 독특한 Texture를 가진다고 가설을 세웠다.

1. 선명하게 구분되는 지점: 키보드 건반을 누르는 순간, 스펙트로그램 상에 짧고 강한 수직선 형태의 에너지가 발생하는 특징이 있다.
2. 깨끗한 배음: 음이 울리는 동안, 보컬의 비브라토나 기타의 노이즈와 달리 깨끗하고 안정적인 수평선 형태의 배음이 나타난다.
3. 복합 에너지: 피아노는 어택과 울림을 동시에 가진다.

본 필터는 Librosa를 이용해 스펙트로그램을 작은 이미지 조각으로 나눈 뒤, 각 조각에서 위의 3가지 특징을 추출해낸다.
이 특징 벡터들은 scikit-learn의 회귀 모델에 입력된다. 조각이 얼마나 원하는 세션에 가까운지를 추정하게 된다.
이 추정 값은 원본 스펙트로그램에 곱해지는 소프트 마스크로 작동하여, 피아노/키보드 성분만 강조하는 전처리기 필터의 핵심 로직을 구성하게 된다.